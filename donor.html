<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Become a Donor</title>
    <link rel="stylesheet" href="donor.css">

</head>

<body>
    <div class="navbar"></div>

    <div class="form-box">

        <div class="input-box">
            <p>Become a Donor</p><br>
            <form action="donor.php" method="post">

                <div class="row-1">
                    <div class="form-group">
                        <label for="First name">First Name*</label>
                        <input class="field" type="text" id="firstName" name="firstName" required>
                        <div class="error-message" id="firstName-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="Last Name">Last Name*</label>
                        <input class="field" type="text" id="lastName" name="lastName" required>
                        <div class="error-message" id="lastName-error"></div>
                    </div>
                </div>
                <div class="row-2">
                    <div class="form-group">
                        <label for="gender">Gender*</label>
                        <select class="field" id="gender" name="gender" required>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                        <div class="error-message" id="gender-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="Email">Email*</label>
                        <input class="field" type="email" id="email" name="email" required>
                        <div class="error-message" id="email-error"></div>
                    </div>
                </div>
                <div class="row-3">
                    <div class="form-group">
                        <label for="mobileNumber">Mobile Number*</label>
                        <input class="field" type="tel" id="mobileNumber" name="mobileNumber" required>
                        <div class="error-message" id="mobileNumber-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="Address">Address*</label>
                        <input class="field" type="Address" id="Address" name="Address" required>
                        <div class="error-message" id="address-error"></div>
                    </div>

                </div>
                <div class="row-4">
                    <div class="blood">

                        <label for="Blood">Blood-type*</label>
                        <select class="field" id="Blood-type" name="Blood-type" aria-placeholder="Select blood group*"
                            required>

                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                        <div class="error-message" id="bloodType-error"></div>

                    </div>
                    <div class="form-group">
                        <label for="age">Age*</label>
                        <input class="field" type="number" id="age" name="age" required>
                        <div class="error-message" id="age-error"></div>
                    </div>

                </div>
            </form>
            <div>
                <label class="container">
                    <input type="checkbox" checked="checked"> I agree to RaktaDaan's Terms and Conditions
                    <span class="checkmark"></span>
                </label>
                <div class="error-message" id="termsCheckbox-error"></div>

                <div class="submit">
                    <button onclick="if(validateForm(true)) submited();
                 
              " class="js-submit-button submit-button">
                        Submit
                    </button>
                </div>
            </div>

        </div>

    </div>

    </div>

    </div>

    <script>

        function submited() {
            const buttonElement = document.querySelector('.js-submit-button');

            if (buttonElement.innerText === 'Submit') {
                buttonElement.innerHTML = 'Submited';
                buttonElement.classList.add('is-submited');
            } 
        }
        function validateForm() {
            // Reset previous error messages
            resetErrors();
           

            // Get form inputs
            var firstName = document.getElementById('firstName').value;
            var lastName = document.getElementById('lastName').value;
            var mobileNumber = document.getElementById('mobileNumber').value;
            var age = document.getElementById('age').value;
            var gender = document.getElementById('gender').value;
            var email = document.getElementById('email').value;
            var address = document.getElementById('Address').value;
            var bloodType = document.getElementById('Blood-type').value;
            var agreeCheckbox = document.querySelector('.container input[type="checkbox"]').checked;

            // Validate each input
            if (!firstName) {
                displayError('firstName', 'First Name is required');
                return false;
            }
            if (!lastName) {
                displayError('lastName', 'Last Name is required');
                return false;
            }

            if (!mobileNumber || !isValidPhoneNumber(mobileNumber)) {
                displayError('mobileNumber', 'Please enter a valid Mobile Number');
                return false;
            }

            if (!age || age <= 0) {
                displayError('age', 'Please enter a valid Age');
                return false;
            }

            if (!gender) {
                displayError('gender', 'Please select a Gender');
                return false;
            }

            if (!email || !isValidEmail(email)) {
                displayError('email', 'Please enter a valid Email');
                return false;
            }

            if (!address) {
                displayError('Address', 'Address is required');
                return false;
            }

            if (!bloodType) {
                displayError('Blood-type', 'Please select a Blood Type');
                return false;
            }

            if (!agreeCheckbox) {
                displayError('termsCheckbox', 'You must agree to the Terms and Conditions');
                return false;
            }

            // If all validations pass, you can submit the form
            alert('Form submitted successfully!');
            return true;
        }

        function displayError(elementId, errorMessage) {
            var errorElement = document.getElementById(elementId + '-error');
            errorElement.innerHTML = errorMessage;
            errorElement.style.display = 'block';
        }

        function resetErrors() {
            var errorElements = document.getElementsByClassName('error-message');
            for (var i = 0; i < errorElements.length; i++) {
                errorElements[i].style.display = 'none';
            }
        }

        function isValidPhoneNumber(number) {
            // Phone number pattern: 10 digits
            var phoneNumberPattern = /^\d{10}$/;
            return phoneNumberPattern.test(number);
        }

        function isValidEmail(email) {

            return /\S+@\S+\.\S+/.test(email);
        }
       
    </script>

</body>

</html>